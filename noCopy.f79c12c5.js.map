{"version":3,"sources":["scripts/noCopy.ts"],"names":[],"mappings":";AA4CE,aA1CF,SAAgB,EAAiB,GA0C/B,IAAA,EAAA,EAzCM,EAAS,EAAM,OAErB,GADA,QAAQ,IAAI,kBAAmB,GACX,QAAhB,EAAA,EAAO,iBAAS,IAAA,OAAA,EAAA,EAAE,SAAS,QAAA,eAAgB,OAAO,EAEtD,IADA,IAAI,EAAS,EAAO,cACH,MAAV,GAAgB,CACrB,GAAoB,QAAhB,EAAA,EAAO,iBAAS,IAAA,OAAA,EAAA,EAAE,SAAS,QAAA,eAAgB,OAAO,EACtD,EAAS,EAAO,cAElB,OAAO,EAGT,SAAgB,EAAoB,QAAA,IAAA,IAAA,EAAA,UAClC,EAAO,YAAc,EACrB,EAAO,cAAgB,EACvB,EAAO,cAAgB,EAGzB,SAAS,EAAkB,GAwBzB,IAAA,EAvBA,GAAkB,QAAd,EAAA,EAAK,iBAAS,IAAA,IAAA,EAAE,SAAS,QAAA,eAA7B,CACsB,IAAlB,EAAK,UACP,EAAK,aAAa,eAAgB,MAGpC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAK,SAAS,OAAQ,IAAK,CAE7C,EADc,EAAK,SAAS,MAKhC,SAAgB,EAA0B,QAAA,IAAA,IAAA,EAAA,UACxC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAO,SAAS,OAAQ,IAAK,CAE/C,EADc,EAAO,SAAS,KAUhC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,yBAAA,QAAA,mBAAA,QAAA,gBAAA,QAAA,mBAAA,EA5CW,QAAA,cAAgB,YAE7B,QAAA,gBAAA,EAYA,QAAA,mBAAA,EAkBA,QAAA,yBAAA,EAOA,OAAO,OAAO,OAAQ,CACpB,cAAa,QAAA,cACb,gBAAe,EACf,mBAAkB,EAClB,yBAAwB","file":"noCopy.f79c12c5.js","sourceRoot":"../src","sourcesContent":["export const noSelectClass = 'allowcopy';\n\nexport function noSelectHandler (event: Event): boolean {\n  const target = event.target as HTMLElement;\n  console.log('noSelectHandler', target);\n  if (target.classList?.contains(noSelectClass)) return true;\n  let parent = target.parentElement;\n  while (parent != null) {\n    if (parent.classList?.contains(noSelectClass)) return true;\n    parent = parent.parentElement;\n  }\n  return false;\n}\n\nexport function initGlobalNoSelect (origin: GlobalEventHandlers = document): void {\n  origin.ondragstart = noSelectHandler;\n  origin.onselectstart = noSelectHandler;\n  origin.oncontextmenu = noSelectHandler;\n}\n\nfunction initUnselectable (node: Element): void {\n  if (node.classList?.contains(noSelectClass)) return;\n  if (node.nodeType === 1) {\n    node.setAttribute('unselectable', 'on');\n    // node.classList?.add('denycopy');\n  }\n  for (let i = 0; i < node.children.length; i++) {\n    const child = node.children[i];\n    initUnselectable(child);\n  }\n}\n\nexport function initGlobalNoUnselectable (origin: Node & GlobalEventHandlers & ParentNode = document): void {\n  for (let i = 0; i < origin.children.length; i++) {\n    const child = origin.children[i];\n    initUnselectable(child);\n  }\n}\n\nObject.assign(window, {\n  noSelectClass,\n  noSelectHandler,\n  initGlobalNoSelect,\n  initGlobalNoUnselectable,\n});\n"]}